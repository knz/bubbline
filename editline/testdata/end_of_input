run
reset
resize 40 25
----
TEA WINDOW SIZE: {40 25}
-- view:
> [7m [0m                                   â¤
M-? toggle key help â€¢ C-d erase/stopğŸ›‡

# If there's some characters already, ctrl+d does editing.
# For example, at the end of the line, nothing happens.
run
type hello world
key ctrl+d
----
-- view:
> hello world[7m [0m                        â¤
M-? toggle key help â€¢ C-d erase/stopğŸ›‡

# At some other point than the end of the line, it deletes the
# character at point.
run
key left
key left
key ctrl+d
----
-- view:
> hello wor[7md[0m                          â¤
M-? toggle key help â€¢ C-d erase/stopğŸ›‡

# At the beginning of the line, it deletes the first character.
run
key ctrl+a
key ctrl+d
----
-- view:
> [7me[0mllo word                           â¤
M-? toggle key help â€¢ C-d erase/stopğŸ›‡

# Now clear the input.
run
key ctrl+k
----
-- view:
> [7m [0m                                   â¤
M-? toggle key help â€¢ C-d erase/stopğŸ›‡

# If the input is empty, ctrl+d is end-of-input.
run observe=(view,err)
key ctrl+d
----
TEA QUIT
-- view:
>                                     â¤
M-? toggle key help â€¢ C-d erase/stopğŸ›‡
-- err:
EOF
