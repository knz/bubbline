run
reset
resize 40 25
----
TEA WINDOW SIZE: {40 25}
-- view:
[40m[37m> [0m[0m[40m[0m[40m[7m [0m[0m[40m[0m[40m                                   [0m‚ê§
[90mM-?[0m [90mtoggle key help[0m[90m ‚Ä¢ [0m[90mC-d[0m [90merase/stop[0m[90m ‚Ä¢ [0m[90mC-c[0m [90mclear/cancel[0m[90m ‚Ä¢ [0m[90mM-.[0m [90mhide/show prompt[0müõá

# If there's some characters already, ctrl+d does editing.
# For example, at the end of the line, nothing happens.
run
type hello world
key ctrl+d
----
-- view:
[40m[37m> [0m[0m[40mhello world[0m[40m[7m [0m[0m[40m[0m[40m                        [0m‚ê§
[90mM-?[0m [90mtoggle key help[0m[90m ‚Ä¢ [0m[90mC-d[0m [90merase/stop[0m[90m ‚Ä¢ [0m[90mC-c[0m [90mclear/cancel[0m[90m ‚Ä¢ [0m[90mM-.[0m [90mhide/show prompt[0müõá

# At some other point than the end of the line, it deletes the
# character at point.
run
key left
key left
key ctrl+d
----
-- view:
[40m[37m> [0m[0m[40mhello wor[0m[40m[7md[0m[0m[40m [0m[40m                         [0m‚ê§
[90mM-?[0m [90mtoggle key help[0m[90m ‚Ä¢ [0m[90mC-d[0m [90merase/stop[0m[90m ‚Ä¢ [0m[90mC-c[0m [90mclear/cancel[0m[90m ‚Ä¢ [0m[90mM-.[0m [90mhide/show prompt[0müõá

# At the beginning of the line, it deletes the first character.
run
key ctrl+a
key ctrl+d
----
-- view:
[40m[37m> [0m[0m[40m[0m[40m[7me[0m[0m[40mllo word [0m[40m                          [0m‚ê§
[90mM-?[0m [90mtoggle key help[0m[90m ‚Ä¢ [0m[90mC-d[0m [90merase/stop[0m[90m ‚Ä¢ [0m[90mC-c[0m [90mclear/cancel[0m[90m ‚Ä¢ [0m[90mM-.[0m [90mhide/show prompt[0müõá

# Now clear the input.
run
key ctrl+k
----
-- view:
[40m[37m> [0m[0m[40m[0m[40m[7m [0m[0m[40m[0m[40m                                   [0m‚ê§
[90mM-?[0m [90mtoggle key help[0m[90m ‚Ä¢ [0m[90mC-d[0m [90merase/stop[0m[90m ‚Ä¢ [0m[90mC-c[0m [90mclear/cancel[0m[90m ‚Ä¢ [0m[90mM-.[0m [90mhide/show prompt[0müõá

# If the input is empty, ctrl+d is end-of-input.
run observe=(view,err)
key ctrl+d
noop
----
TEA QUIT
-- view:
[37m[37m> [0m[0m[37m[0m[37m[37m [0m[0m[37m[0m[37m                                   [0m‚ê§
[90mM-?[0m [90mtoggle key help[0m[90m ‚Ä¢ [0m[90mC-d[0m [90merase/stop[0m[90m ‚Ä¢ [0m[90mC-c[0m [90mclear/cancel[0m[90m ‚Ä¢ [0m[90mM-.[0m [90mhide/show prompt[0müõá
-- err:
EOF
